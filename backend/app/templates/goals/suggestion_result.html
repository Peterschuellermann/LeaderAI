<!-- Clear the polling container -->
<div id="ai-poll-container">
    {% if result is string %}
        <span class="text-red-500 text-xs">{{ result }}</span>
    {% elif result.error %}
        <span class="text-red-500 text-xs">{{ result.error }}</span>
    {% else %}
        <span class="text-green-600 text-xs">âœ“ Suggestions filled below!</span>
    {% endif %}
</div>

{% if not (result is string or result.error) %}
<!-- OOB Swaps to fill the form fields -->
<textarea id="id_description" name="description" rows="3" required class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2" hx-swap-oob="true">{{ result.objective }}</textarea>

<input type="text" id="id_due_date" name="due_date" value="{{ result.due_date }}" placeholder="e.g. Q4 2025" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2" hx-swap-oob="true">

<textarea id="id_success_metrics" name="success_metrics" rows="2" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2" hx-swap-oob="true">{{ result.success_metrics }}</textarea>

<textarea id="id_manager_support" name="manager_support" rows="2" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2" hx-swap-oob="true">{{ result.manager_support }}</textarea>
{% endif %}
